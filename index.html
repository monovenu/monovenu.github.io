
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" /><meta name="baidu-site-verification" content="nEQIp4IWZN" />
  
  <title>刘洋鑫的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前端 css javascript">
<meta property="og:type" content="website">
<meta property="og:title" content="刘洋鑫的博客">
<meta property="og:url" content="http://monovenu.com.io/index.html">
<meta property="og:site_name" content="刘洋鑫的博客">
<meta property="og:description" content="前端 css javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="刘洋鑫的博客">
<meta name="twitter:description" content="前端 css javascript">
  
    <link rel="alternative" href="/atom.xml" title="刘洋鑫的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">刘洋鑫的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">刘洋鑫的前端学习心得</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="monovenu.com.io">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-jQuery版本问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/08/jQuery版本问题/" class="article-date">
  <time datetime="2015-12-08T09:47:23.000Z" itemprop="datePublished">2015-12-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/08/jQuery版本问题/">jQuery版本问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>博主这两天写代码被jQuery的版本更迭给坑了，有些方法在jQuery 1.9之后不再支持，<br>比如toggle切换函数。以后写代码一定要注意现有的版本是否支持该方法，及时关注版本更新带来的改变。<br><img src="http://7xo561.com1.z0.glb.clouddn.com/37d12f2eb9389b507400922b8735e5dde6116ecf.jpg" alt="jQuery"></p>
<h2 id="jQuery_2-x">jQuery 2.x</h2><p>jQuery 2.0 不再支持IE 6/7/8 了，但是 jQuery 1.9 会继续支持。<br>jQuery 团队将同时支持 jQuery 1.x 和 2.x 。1.9 和 2.0 版的 API 是相同的。<br>现在jQuery 1.x最新的是jQuery 1.11.4, jQuery 2.x最新的是jQuery 2.1.3.<br>1.9 和 2.0 版的 API 是相同的。那按推论1.10和2.1的 API 是相同的。但是1.11已经出世了，<br>2.x还没有对应的版本。感觉有点混乱呢，不过不用担心，jQuery团队在他们的博客上给出了一个方案。</p>
<h2 id="jQuery_3-x">jQuery 3.x</h2><p>原文如下<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Our next releases will use a different nomenclature. </span><br><span class="line">As before, there will be two different released files. </span><br><span class="line">The successor to what is now version <span class="number">1.11</span>.<span class="number">1</span> will become jQuery Compat <span class="number">3.0</span>.</span><br><span class="line">The successor to jQuery <span class="number">2.1</span>.<span class="number">1</span> will be jQuery <span class="number">3.0</span>.</span><br><span class="line">There are two different packages on npm and Bower, </span><br><span class="line">but they share the same version to indicate they have the same API behavior.</span><br></pre></td></tr></table></figure></p>
<p>意思就是：我们下次发布将使用新的版本系统。1.x的继任者将是jQuery Compat 3.0，<br>2.x的继任者将是jQuery 3.0，他们将使用相同的版本号表明他们拥有相同的API。<br>这就清楚了，以后看到jQuery Compat 3.1，就知道和他拥有相同的API的版本是jQuery 3.1。</p>
<h2 id="稳定版本">稳定版本</h2><p>版本号最末一位数字，如jQuery 1.11.4的4表示jQuery 1.11的第四版，一般是修复了一些BUG，<br>所以最新版本的上一版本是稳定无错的，比如jQuery 1.10.4。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/12/08/jQuery版本问题/" data-id="cihzznmqg000q18i4derq5nme" class="article-share-link" data-share="baidu" data-title="jQuery版本问题">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-jQuery版本问题" data-title="jQuery版本问题" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/版本控制/">版本控制</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-epoll" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/07/epoll/" class="article-date">
  <time datetime="2015-12-07T03:23:31.000Z" itemprop="datePublished">2015-12-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/07/epoll/">epoll</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>因为毕设的关系接触到epoll，查阅了很多资料，<br>实践后，终于搞清楚了epoll的原理。本文大部分内容来自<br><a href="http://www.zhihu.com/question/20122137/answer/14049112" target="_blank" rel="external">知乎蓝形参对epoll的回答</a>感谢蓝形参的精彩回答。</p>
<h2 id="select">select</h2><p>前篇博文介绍了select属于IO多路复用。内核授权给代理select,<br>让它监控多个流的I/O事件，在空闲的时候，会把当前进程阻塞掉，当有一个或多个流有I/O事件时，就从阻塞态中醒来，轮询一遍所有的流。</p>
<p>select的不足之处在于我们从select那里仅仅知道了，有I/O事件发生了，但却并不知道是那几个流（可能有一个，多个，甚至全部），我们只能无差别轮询所有流，找出能读出数据，或者写入数据的流，对他们进行操作。<br>使用select，我们有O(n)的无差别轮询复杂度，同时处理的流越多，每一次无差别轮询时间就越长。<br><img src="http://7xo561.com1.z0.glb.clouddn.com/eac4b74543a98226620f4c5c8a82b9014b90ebfb.jpg" alt="问"></p>
<h2 id="epoll">epoll</h2><p>epoll可以理解为event poll，不同于忙轮询和无差别轮询，epoll之会把哪个流发生了怎样的I/O事件通知我们。此时我们对这些流的操作都是有意义的。这意味着获取事件的时候，它无须遍历整个被侦听的描述符集，只要遍历那些被内核IO事件异步唤醒而加入Ready队列的描述符集合就行了。复杂度降低到了O(k)，k为产生I/O事件的流的个数。</p>
<p>理解了上述原理也就不难理解epoll的优点了。epoll在处理大批量文件描述符时，也能保持高效。它能显著提高程序在大量并发连接中只有少量活跃的情况下的系统CPU利用率。epoll除了提供select/poll那种IO事件的水平触发（Level Triggered）外，还提供了边缘触发（Edge Triggered），这就使得用户空间程序有可能缓存IO状态，减少epoll_wait/epoll_pwait的调用，提高应用程序效率。</p>
<p>epoll的相关操作：<br>•    epoll_create 创建一个epoll对象，一般epollfd = epoll_create()<br>•    epoll_ctl （epoll_add/epoll_del的合体），往epoll对象中增加/删除某一个流的某一个事件<br>比如<br>epoll_ctl(epollfd, EPOLL_CTL_ADD, socket, EPOLLIN);//有缓冲区内有数据时epoll_wait返回<br>epoll_ctl(epollfd, EPOLL_CTL_DEL, socket, EPOLLOUT);//缓冲区可写入时epoll_wait返回<br>•    epoll_wait(epollfd,…)等待直到注册的事件发生<br>（epoll只关心缓冲区非满和缓冲区非空事件）。<br>一个epoll模式的代码大概的样子是：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">true</span> &#123;</span><br><span class="line">active_stream[] = epoll_<span class="built_in">wait</span>(epollfd)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> active_stream[] &#123;</span><br><span class="line"><span class="built_in">read</span> or write till unavailable</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/12/07/epoll/" data-id="cihzznmr3001a18i410dxajdq" class="article-share-link" data-share="baidu" data-title="epoll">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-epoll" data-title="epoll" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/epoll/">epoll</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/并发/">并发</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-网络IO模型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/04/网络IO模型/" class="article-date">
  <time datetime="2015-12-04T01:55:43.000Z" itemprop="datePublished">2015-12-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/04/网络IO模型/">网络IO模型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文部分转载自<a href="http://www.cnblogs.com/Anker/p/3254269.html" target="_blank" rel="external">网络IO之阻塞、非阻塞、同步、异步总结</a>和<a href="http://www.zhihu.com/question/20122137/answer/14049112" target="_blank" rel="external">知乎蓝形参对epoll的回答</a></p>
<h2 id="1、流">1、流</h2><p>什么是流？只要可以进行I/O操作的内核对象就是一个流。<br>所以不管是文件，还是套接字，还是管道，我们都可以把他们看作流。</p>
<h2 id="2、数据流向">2、数据流向</h2><p>网络IO操作实际涉及到内核和调用这个IO操作的进程。<br>以read为例read的具体操作分为以下两个部分:<br>　　（1）内核等待数据可读<br>　　（2）将内核读到的数据拷贝到进程<br>详细过程如下：<br><img src="http://7xo561.com1.z0.glb.clouddn.com/数据从内核到进程.jpg" alt="进程从网络上读数据"></p>
<h2 id="3、阻塞">3、阻塞</h2><p>比如某个时候你在等快递，但是你不知道快递什么时候过来，而且你没有别的事可以干（或者说接下来的事要等快递来了才能做）；那么你可以去睡觉了，因为你知道快递把货送来时一定会给你打个电话。<br><img src="http://7xo561.com1.z0.glb.clouddn.com/645703596574527261.jpg" alt="等待"><br>为了了解阻塞是如何进行的，我们来讨论缓冲区。缓冲区的引入是为了减少频繁I/O操作而引起频繁的系统调用（系统调用很慢的），当你操作一个流时，更多的是以缓冲区为单位进行操作，这是相对于用户空间而言。对于内核来说，也需要缓冲区。<br>假设有一个管道，进程A为管道的写入方，Ｂ为管道的读出方。</p>
<ol>
<li><p>假设一开始内核缓冲区是空的，B作为读出方，被阻塞着。然后首先A往管道写入，这时候内核缓冲区由空的状态变到非空状态，内核就会产生一个事件告诉Ｂ该醒来了，这个事件姑且称之为“缓冲区非空”。</p>
</li>
<li><p>但是“缓冲区非空”事件通知B后，B却还没有读出数据；且内核许诺了不能把写入管道中的数据丢掉这个时候，Ａ写入的数据会滞留在内核缓冲区中，如果内核也缓冲区满了，B仍未开始读数据，最终内核缓冲区会被填满，这个时候会产生一个I/O事件，告诉进程A，你该等等（阻塞）了，我们把这个事件定义为“缓冲区满”。</p>
</li>
<li><p>假设后来Ｂ终于开始读数据了，于是内核的缓冲区空了出来，这时候内核会告诉A，内核缓冲区有空位了，你可以从长眠中醒来了，继续写数据了，我们把这个事件叫做“缓冲区非满”。</p>
</li>
<li><p>也许事件Y1已经通知了A，但是A也没有数据写入了，而Ｂ继续读出数据，知道内核缓冲区空了。这个时候内核就告诉B，你需要阻塞了！我们把这个时间定为“缓冲区空”。</p>
</li>
</ol>
<p>这四个情形涵盖了四个I/O事件，缓冲区满，缓冲区空，缓冲区非空，缓冲区非满（注都是说的内核缓冲区）。这四个I/O事件是进行阻塞同步的根本。</p>
<p>然后我们来说说阻塞I/O的缺点。阻塞I/O模式下，一个线程只能处理一个流的I/O事件。如果想要同时处理多个流，要么多进程(fork)，要么多线程(pthread_create)，很不幸这两种方法效率都不高。</p>
<h2 id="4、非阻塞忙轮询。">4、非阻塞忙轮询。</h2><p>接着上面等快递的例子，如果用忙轮询的方法，那么你需要知道快递员的手机号，然后每分钟给他挂个电话：“你到了没？”<br>很明显一般人不会用这种做法，占用了快递员大量的时间。<br>大部分程序也不会用这种做法，因为阻塞方式经济而简单，经济是指消耗很少的CPU时间，如果线程睡眠了，就掉出了系统的调度队列，暂时不会去瓜分CPU宝贵的时间片了。</p>
<p>于是再来考虑非阻塞忙轮询的I/O方式，我们发现我们可以同时处理多个流了：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">true</span> &#123;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> stream[]; &#123;</span><br><span class="line"><span class="keyword">if</span> i has data</span><br><span class="line"><span class="built_in">read</span> until unavailable</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们只要不停的把所有流从头到尾问一遍，又从头开始。这样就可以处理多个流了，但这样的做法显然不好，因为如果所有的流都没有数据，那么只会白白浪费CPU时间。这里要补充一点，阻塞模式下，内核对于I/O事件的处理是阻塞或者唤醒，而非阻塞模式下则把I/O事件交给其他对象（后文介绍的select以及epoll）处理甚至直接忽略。</p>
<h2 id="5、IO多路复用">5、IO多路复用</h2><p>为了避免CPU空转，可以引进了一个代理（一开始有一位叫做select的代理，后来又有一位叫做poll的代理，不过两者的本质是一样的）。这个代理比较厉害，可以同时观察许多流的I/O事件，在空闲的时候，会把当前线程阻塞掉，当有一个或多个流有I/O事件时，就从阻塞态中醒来，于是我们的程序就会轮询一遍所有的流（于是我们可以把“忙”字去掉了）。代码长这样:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">true</span> &#123;</span><br><span class="line">select(streams[])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> streams[] &#123;</span><br><span class="line"><span class="keyword">if</span> i has data</span><br><span class="line"><span class="built_in">read</span> until unavailable</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这种方式就称之为IO多路复用。</p>
<h2 id="6、同步与异步">6、同步与异步</h2><p>同步与异步是针对进程与内核的交互而言。同步过程中进程触发IO操作<br>等待或轮询。异步过程中进程触发IO操作后，直接返回做自己的事情，IO交给内核来处理，完成后内核通知进程。</p>
<h2 id="7、阻塞与非阻塞">7、阻塞与非阻塞</h2><p>简单理解为需要做一件事能不能立即得到应答，如果不能立即获得应答，也不能返回，需要等待，那就阻塞了，否则就可以理解为非阻塞。详细区别如下图所示。<br><img src="http://7xo561.com1.z0.glb.clouddn.com/12234337-ea19e65c6c72464499a307e4a950148a.png" alt="阻塞与非阻塞"><br>如果没有I/O事件产生，我们的程序就会阻塞在select处。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/12/04/网络IO模型/" data-id="cihzznmq1000718i4oynduamh" class="article-share-link" data-share="baidu" data-title="网络IO模型">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-网络IO模型" data-title="网络IO模型" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/异步/">异步</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/阻塞/">阻塞</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-miniui" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/26/miniui/" class="article-date">
  <time datetime="2015-11-26T06:03:07.000Z" itemprop="datePublished">2015-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/26/miniui/">MiniUi for php初探</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>jQuery MiniUI是一款能够快速实现界面开发的WebUI控件库。<br>下面就博主的亲手实践进行阶段性的总结。</p>
<h2 id="1、下载安装">1、下载安装</h2><h3 id="安装phpStudy">安装phpStudy</h3><p>为方便本地运行和测试，可以安装phpStudy。<br>phpStudy集成了apache、mysql和php环境，<br>免除了繁琐的环境配置工作。</p>
<h3 id="下载MiniUi">下载MiniUi</h3><p>官网下载MiniUi for php后将解压文件放在phpStudy的安装目录’D/www’下。<br>将解压文件中的dbsql（示例数据库sql文件）导入MySql.<br><img src="http://7xo561.com1.z0.glb.clouddn.com/QQ截图20151126142305.png" alt="导入MySql"></p>
<h2 id="2、运行示例">2、运行示例</h2><p>为使用MiniUi,开发者只需要引用jquery.js、miniui.js、miniui.css即可。<br>但示例中的做法是引用boot.js，再由boot.js引用上述几个文件。<br>请按localhost的方式访问demo文件夹下的示例。</p>
<h2 id="3、编写CRUD页面">3、编写CRUD页面</h2><p>CRUD是指增加(Create)、读取(Retrieve)、更新(Update)和删除(Delete)。<br>在编写自己的页面时，博主建议修改boot.js中引用文件的目录，再在自己的文件中引用boot.js.</p>
<h3 id="创建数据表格">创建数据表格</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"datagrid1"</span> <span class="attribute">class</span>=<span class="value">"mini-datagrid"</span> <span class="attribute">style</span>=<span class="value">"width:800px;height:280px;"</span> </span><br><span class="line">        <span class="attribute">url</span>=<span class="value">"demo/data/AjaxService.php?method=SearchEmployees"</span> <span class="attribute">idField</span>=<span class="value">"id"</span></span><br><span class="line">        <span class="attribute">allowResize</span>=<span class="value">"true"</span> <span class="attribute">pageSize</span>=<span class="value">"20"</span> </span><br><span class="line">        <span class="attribute">allowCellEdit</span>=<span class="value">"true"</span> <span class="attribute">allowCellSelect</span>=<span class="value">"true"</span> <span class="attribute">multiSelect</span>=<span class="value">"true"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">div</span> <span class="attribute">property</span>=<span class="value">"columns"</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">type</span>=<span class="value">"checkcolumn"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>            </span><br><span class="line">		<span class="tag">&lt;<span class="title">div</span> <span class="attribute">field</span>=<span class="value">"loginname"</span> <span class="attribute">width</span>=<span class="value">"120"</span> <span class="attribute">headerAlign</span>=<span class="value">"center"</span> <span class="attribute">allowSort</span>=<span class="value">"true"</span>&gt;</span>员工帐号</span><br><span class="line">			<span class="tag">&lt;<span class="title">input</span> <span class="attribute">property</span>=<span class="value">"editor"</span> <span class="attribute">class</span>=<span class="value">"mini-textbox"</span> <span class="attribute">style</span>=<span class="value">"width:100%;"</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">div</span>&gt;</span>                </span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">field</span>=<span class="value">"gender"</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">renderer</span>=<span class="value">"onGenderRenderer"</span> <span class="attribute">align</span>=<span class="value">"center"</span> <span class="attribute">headerAlign</span>=<span class="value">"center"</span>&gt;</span>性别</span><br><span class="line">            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">property</span>=<span class="value">"editor"</span> <span class="attribute">class</span>=<span class="value">"mini-combobox"</span> <span class="attribute">style</span>=<span class="value">"width:100%;"</span> <span class="attribute">data</span>=<span class="value">"Genders"</span>/&gt;</span>                </span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">field</span>=<span class="value">"age"</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">allowSort</span>=<span class="value">"true"</span> &gt;</span>年龄</span><br><span class="line">            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">property</span>=<span class="value">"editor"</span> <span class="attribute">class</span>=<span class="value">"mini-spinner"</span> <span class="attribute">minValue</span>=<span class="value">"0"</span> <span class="attribute">maxValue</span>=<span class="value">"200"</span> <span class="attribute">value</span>=<span class="value">"25"</span> <span class="attribute">style</span>=<span class="value">"width:100%;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">field</span>=<span class="value">"birthday"</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">allowSort</span>=<span class="value">"true"</span> <span class="attribute">dateFormat</span>=<span class="value">"yyyy-MM-dd"</span>&gt;</span>出生日期</span><br><span class="line">            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">property</span>=<span class="value">"editor"</span> <span class="attribute">class</span>=<span class="value">"mini-datepicker"</span> <span class="attribute">style</span>=<span class="value">"width:100%;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">field</span>=<span class="value">"remarks"</span> <span class="attribute">width</span>=<span class="value">"120"</span> <span class="attribute">headerAlign</span>=<span class="value">"center"</span> <span class="attribute">allowSort</span>=<span class="value">"true"</span>&gt;</span>备注</span><br><span class="line">            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">property</span>=<span class="value">"editor"</span> <span class="attribute">class</span>=<span class="value">"mini-textarea"</span> <span class="attribute">style</span>=<span class="value">"width:100%;"</span> <span class="attribute">minHeight</span>=<span class="value">"80"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="title">div</span>&gt;</span>                                 </span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">field</span>=<span class="value">"createtime"</span> <span class="attribute">width</span>=<span class="value">"100"</span> <span class="attribute">headerAlign</span>=<span class="value">"center"</span> <span class="attribute">dateFormat</span>=<span class="value">"yyyy-MM-dd"</span> <span class="attribute">allowSort</span>=<span class="value">"true"</span>&gt;</span>创建日期<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意外部div的类名为mini-datagrid, url对应为示例文件中的php,<br>allowCellEdit=”true”允许编辑单元格，allowResize=”true”允许用户改变表格大小。<br>内部div定义了表格的列。type=”checkcolumn”定义了选择列。<br>allowSort=”true”允许排序。input是单元格的编辑框。<br><img src="http://7xo561.com1.z0.glb.clouddn.com/QQ截图20151126145332.png" alt="创建数据表格"></p>
<h3 id="查找">查找</h3><p>编写查找框<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">style</span>=<span class="value">"padding-top:5px;padding-bottom:5px;"</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="title">span</span>&gt;</span>员工姓名：<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">id</span>=<span class="value">"key"</span>  /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">value</span>=<span class="value">"查找"</span> <span class="attribute">onclick</span>=<span class="value">"search()"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">value</span>=<span class="value">"Add"</span> <span class="attribute">onclick</span>=<span class="value">"addRow()"</span> <span class="attribute">style</span>=<span class="value">"margin-left:200px;"</span> /&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">value</span>=<span class="value">"Remove"</span> <span class="attribute">onclick</span>=<span class="value">"removeRow()"</span> /&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">value</span>=<span class="value">"Save"</span> <span class="attribute">onclick</span>=<span class="value">"saveData()"</span> <span class="attribute">style</span>=<span class="value">"margin-left:100px;"</span>/&gt;</span>      </span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="http://7xo561.com1.z0.glb.clouddn.com/QQ截图20151126150043.png" alt="查找框"><br>查找代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">search</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> key = <span class="built_in">document</span>.getElementById(<span class="string">"key"</span>).value;</span><br><span class="line">    grid.load(&#123; key: key &#125;);</span><br><span class="line">&#125;</span><br><span class="line">   $(<span class="string">"#key"</span>).bind(<span class="string">"keyup"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (e.keyCode == <span class="number">13</span>) &#123;</span><br><span class="line">               search();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="保存数据">保存数据</h3><p>使用ajax.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">saveData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> data = grid.getChanges();</span><br><span class="line">    <span class="keyword">var</span> json = mini.encode(data);</span><br><span class="line">    grid.loading(<span class="string">"保存中，请稍后......"</span>);        </span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: <span class="string">"demo/data/AjaxService.php?method=SaveEmployees"</span>,</span><br><span class="line">        data: &#123; data: json &#125;,</span><br><span class="line">        type: <span class="string">"post"</span>,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">text</span>) </span>&#123;</span><br><span class="line">            grid.reload();</span><br><span class="line">        &#125;,</span><br><span class="line">        error: <span class="function"><span class="keyword">function</span> (<span class="params">jqXHR, textStatus, errorThrown</span>) </span>&#123;</span><br><span class="line">            alert(jqXHR.responseText);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/11/26/miniui/" data-id="cihzznmqd000l18i4rhwmjs73" class="article-share-link" data-share="baidu" data-title="MiniUi for php初探">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-miniui" data-title="MiniUi for php初探" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MiniUi/">MiniUi</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-echarts" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/25/echarts/" class="article-date">
  <time datetime="2015-11-25T02:46:00.000Z" itemprop="datePublished">2015-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/25/echarts/">echarts 图表库入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>开源的ECharts来自百度EFE数据可视化团队，可以以图表的方式将数据展现给用户。<br>引入echarts共有三种方式，模块化单文件引入是官方推荐的方式，可以实现按需加载，文件数目少，方便上线。<br>本文只介绍这种方式，更多信息请参考<a href="http://echarts.baidu.com/index.html" target="_blank" rel="external">官方文档</a>.</p>
<h2 id="1、下载">1、下载</h2><p>从官网下载echarts解压后的”build/dist”目录下包含：<br>echarts.js :<br>这是包含AMD加载器的echarts主文件，需要通过script最先引入<br>chart（文件夹） :<br>对应每一个图表类型独立文件，根据应用需求可实现图表类型按需加载<br>line.js : 折线图（如需折柱动态类型切换，require时还需要echarts/chart/bar）<br>bar.js : 柱形图（如需折柱动态类型切换，require时还需要echarts/chart/line）<br>scatter.js : 散点图<br>k.js : K线图<br>pie.js :<br>radar.js : 雷达图<br>map.js : 地图<br>force.js : 力导向布局图<br>chord.js : 和弦图<br>funnel.js : 漏斗图<br>gauge.js : 仪表盘<br>eventRiver.js : 事件河流图<br>treemap.js : 矩阵树图<br>venn.js : 韦恩图<br>“build/source”目录下的文件没有经过压缩，可用于调试。</p>
<h2 id="2、为ECharts准备一个具备（宽高）的Dom">2、为ECharts准备一个具备（宽高）的Dom</h2><p>可以是动态生成的。可以采用动态的javascript代码设置其大小属性值。</p>
<h2 id="3、通过script标签引入echarts主文件">3、通过script标签引入echarts主文件</h2><h2 id="4、为模块加载器配置echarts的路径，从当前页面链接到echarts-js所在目录">4、为模块加载器配置echarts的路径，从当前页面链接到echarts.js所在目录</h2><h2 id="5、动态加载echarts及所需图表然后在回调函数中开始使用。">5、动态加载echarts及所需图表然后在回调函数中开始使用。</h2><p>echarts接口仅有一个方法init，执行init时传入一个具备大小（如果没有指定容器的大小将会按照0大小来处理即无法看到图表）的dom节点后即可实例化出图表对象，同一页面可多次init出多个图表对象。<br>当同一页面已经加载过echarts，再使用时直接require(‘echarts’).init(dom)即可。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"main"</span> <span class="attribute">style</span>=<span class="value">"height:400px;"</span>&gt;</span>   	</span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span><span class="comment">&lt;!-- 放置图表的位置 --&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"./js/echarts.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">        <span class="built_in">require</span>.config(&#123; <span class="comment">//配置echarts的路径</span></span><br><span class="line">            paths: &#123;</span><br><span class="line">                echarts: <span class="string">'./js/dist'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">require</span>(</span><br><span class="line">            [</span><br><span class="line">                <span class="string">'echarts'</span>,</span><br><span class="line">                <span class="string">'echarts/chart/line'</span>,   <span class="comment">// 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表</span></span><br><span class="line">                <span class="string">'echarts/chart/bar'</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="function"><span class="keyword">function</span> (<span class="params">ec</span>) </span>&#123;  <span class="comment">//回调函数</span></span><br><span class="line">                <span class="keyword">var</span> myChart = ec.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>)); <span class="comment">//实例化出图表对象myChart</span></span><br><span class="line">                <span class="keyword">var</span> option = &#123;</span><br><span class="line">                    ...</span><br><span class="line">                &#125;</span><br><span class="line">                myChart.setOption(option);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">        <span class="comment">// 再次使用</span></span><br><span class="line">		<span class="keyword">var</span> myChart2 = <span class="built_in">require</span>(<span class="string">'echarts'</span>).init(dom);</span><br><span class="line">		myChart.setOption(&#123;...&#125;);</span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="http://7xo561.com1.z0.glb.clouddn.com/未来一周气温变化.png" alt="折线图"></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/11/25/echarts/" data-id="cihzznmr7001f18i41ovax518" class="article-share-link" data-share="baidu" data-title="echarts 图表库入门">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-echarts" data-title="echarts 图表库入门" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/echarts/">echarts</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据可视化/">数据可视化</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-jQuery-selector" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/20/jQuery-selector/" class="article-date">
  <time datetime="2015-11-20T01:55:59.000Z" itemprop="datePublished">2015-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/20/jQuery-selector/">jQuery选择器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>博主最近重温了jQuery的选择器，再次感到了它的强大。</p>
<h2 id="1、基本选择器">1、基本选择器</h2><p>$(‘选择器’)。基本选择器通过id, class或元素名来选择。<br>多选$(‘span,#one’)</p>
<h2 id="2、层次选择器">2、层次选择器</h2><p>通过DOM元素之间的层次关系来选择。<br>后代, $(‘div span’)<br>子元素, $(‘div&gt;span’),不包含孙子辈及以下的<br>相邻下一个兄弟, $(‘.one+div’)<br>之后所有兄弟, $(‘.one~div’)</p>
<h2 id="3、过滤选择器">3、过滤选择器</h2><p>与css的伪类选择器语法相同，以”:”开头。</p>
<h3 id="基本过滤选择器">基本过滤选择器</h3><p>第一个, :first, $(‘div:first’)选取所有div中的第一个<br>最后一个, :last, $(‘div:last’)<br>去除匹配的元素, :not(选择器), $(‘div:not(:first)’)选取所有div,除了第一个div.<br>注意:not()内部没有引号。<br>偶数号索引, :even $(‘input:even’), 索引从0开始<br>奇数号索引, :odd $(‘input:odd’)<br>索引等于index, :eq(index), $(‘input:eq(1)’)<br>索引大于index, :gt(index), $(‘input:gt(2)’)<br>索引小于index, :lt(index), $(‘input:lt(2)’)<br>获得焦点, :focus, $(‘focus’)</p>
<h3 id="内容过滤选择器">内容过滤选择器</h3><p>依据子元素或文本内容进行过滤<br>选择含有文本内容的元素, :contains(‘文本’), $(“div:contains(‘我’)”) </p>
<h3 id="可见性过滤选择器">可见性过滤选择器</h3><p>可见, :visible, $(‘:visible’)<br>不可见， :hidden</p>
<h3 id="属性过滤选择器">属性过滤选择器</h3><p>依据css属性选择器，如$(‘[title=test]’)选取属性为test的元素</p>
<h3 id="表单属性过滤选择器">表单属性过滤选择器</h3><p>对表单元素进行过滤。<br>可用, :enabled, $(‘input:enabled’)<br>被选中, :checked<br>被选中的选项,用于下拉列表 :selected, $(‘select option:selected’)</p>
<h2 id="选择器实例">选择器实例</h2><p>以下是一个品牌列表的效果。默认是精简显示，点击’显示全部’后，<br>会显示全部品牌，同时将推荐的品牌高亮显示，按钮文字换成’精简显示’。<br>再次点击’精简显示’，回到默认页面。注意’其他’总算显示的。<br><img src="http://7xo561.com1.z0.glb.clouddn.com/QQ截图20151120110714.png" alt="品牌精简显示"><br><img src="http://7xo561.com1.z0.glb.clouddn.com/QQ截图20151120110735.png" alt="品牌全部显示"></p>
<h3 id="html代码">html代码</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">ul</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span>索尼<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"number"</span>&gt;</span>(23412)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span>佳能<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"number"</span>&gt;</span>(23423)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span>三星<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"number"</span>&gt;</span>(34243)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span>明基<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"number"</span>&gt;</span>(2513)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span>理光<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"number"</span>&gt;</span>(2533)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span>富士<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"number"</span>&gt;</span>(25423)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#"</span>&gt;</span>其他<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"number"</span>&gt;</span>(25023)<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"showmore"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"more.html"</span>&gt;</span><span class="tag">&lt;<span class="title">span</span>&gt;</span>显示全部<span class="tag">&lt;/<span class="title">span</span>&gt;</span><span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="title">div</span>&gt;</span>		</span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="javaScript代码">javaScript代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	$category=$(<span class="string">"ul li:gt(2):not(':last')"</span>) <span class="comment">//获取索引值大于2的品牌，除了最后一条</span></span><br><span class="line">	$category.hide(); </span><br><span class="line">	$(<span class="string">'.showmore&gt;a'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>($category.is(<span class="string">':visible'</span>))&#123;	<span class="comment">//如果显示			</span></span><br><span class="line">			$category.hide();</span><br><span class="line">			$(<span class="keyword">this</span>).find(<span class="string">'span'</span>).text(<span class="string">"显示全部"</span>).css(<span class="string">"background"</span>,<span class="string">"#fff"</span>);</span><br><span class="line">			<span class="comment">//$()将this转换为jQuery对象</span></span><br><span class="line">			$(<span class="string">'ul li'</span>).removeClass(<span class="string">"promoted"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			$category.show();</span><br><span class="line">			$(<span class="keyword">this</span>).find(<span class="string">"span"</span>).text(<span class="string">"精简显示"</span>).css(<span class="string">"background"</span>,<span class="string">"#ad4"</span>);</span><br><span class="line">			$(<span class="string">'ul li'</span>).filter(<span class="string">":contains('佳能'),:contains('理光'),:contains('索尼')"</span>)</span><br><span class="line">			.addClass(<span class="string">"promoted"</span>);</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/11/20/jQuery-selector/" data-id="cihzznmqo000y18i45g5gmjdv" class="article-share-link" data-share="baidu" data-title="jQuery选择器">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-jQuery-selector" data-title="jQuery选择器" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/选择器/">选择器</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-http-code" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/19/http-code/" class="article-date">
  <time datetime="2015-11-19T07:59:15.000Z" itemprop="datePublished">2015-11-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/19/http-code/">HTTP状态响应码与nginx</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>HTTP状态响应码表示服务器对于客户端的HTTP请求的响应状态。</p>
<h2 id="1、1xx_消息">1、1xx 消息</h2><p>代表请求已被接受，需要继续处理。</p>
<h2 id="2、2xx_成功">2、2xx 成功</h2><h3 id="200_OK">200 OK</h3><p>请求成功</p>
<h3 id="201_Created">201 Created</h3><p>请求的资源已经被创建</p>
<h3 id="202_Accepted">202 Accepted</h3><p>请求被接受，但服务器还未进行进一步的操作。不能保证最终请求会成功。</p>
<h2 id="3、3xx_重定向">3、3xx 重定向</h2><p>这类状态码代表需要客户端使用替代地址访问资源。后续的请求地址（重定向目标）在本次响应的 Location 域中指明。</p>
<h3 id="300_Multiple_Choices">300 Multiple Choices</h3><p>被请求的资源有一系列可供选择的版本，每个都有自己特定的地址。用户或浏览器能够自行选择一个首选的地址进行重定向。<br>除非这是一个 HEAD 请求，否则该响应应当包括一个资源特性及地址的列表的实体，以便用户或浏览器从中选择最合适的重定向地址。这个实体的格式由 Content-Type 定义的格式所决定。浏览器可能根据响应的格式以及浏览器自身能力，自动作出最合适的选择。<br>如果服务器本身有了首选地址，在 Location 中应当指明首选的 URI。</p>
<h3 id="301_Moved_Permanently">301 Moved Permanently</h3><p>永久重定向。被请求的资源已永久移动到新位置。<br>新的永久性的 URI 应当在响应的 Location 域中返回。除非这是一个 HEAD 请求，否则响应的实体中应当包含指向新的 URI的超链接及简短说明。</p>
<h3 id="302_Found">302 Found</h3><p>临时重定向。请求的资源现在临时从不同的 URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。</p>
<h3 id="303_See_Other">303 See Other</h3><p>类似于302. 用于重定向POST请求到一个新的资源。而且客户端应当采用 GET 的方式访问那个资源。</p>
<h3 id="304_Not_Modified">304 Not Modified</h3><p>资源未修改，从浏览器缓存中获取资源。</p>
<h3 id="305_Use_Proxy">305 Use Proxy</h3><p>被请求的资源必须通过指定的代理才能被访问。 Location 域中将给出指定的代理所在的 URI 信息。</p>
<h3 id="307_Temporary_Redirect">307 Temporary Redirect</h3><p>类似于302。</p>
<h2 id="4、4xx_请求错误">4、4xx 请求错误</h2><p>这类的状态码代表了客户端可能发生了错误。</p>
<h3 id="400_Bad_Request">400 Bad Request</h3><p>语义有误或者请求参数有误。<br>在nginx中的400错误是因为请求报文实体过大，实体过大，通常是由于cookie中写入了较大的值所引起。解决方法是在nginx.conf中，将client_header_buffer_size和large_client_header_buffers都调大。</p>
<h3 id="401_Unauthorized">401 Unauthorized</h3><p>当前请求需要验证客户端。该响应必须包含一个适用于被请求资源的 WWW-Authenticate 信息头用以询问用户信息。客户端可以重复提交一个包含恰当的 Authorization 头信息的请求。<br>如果当前请求已经包含了 Authorization 证书，那么401响应代表着服务器验证已经拒绝了那些证书。<br>比如在Nginx下对网站进行密码保护。可以更改网站的Nginx的server配置，创建htpasswd文件保存密码，它和nginx.conf在同一级目录。</p>
<h3 id="403_Forbidden">403 Forbidden</h3><p>服务器已经理解请求，但是拒绝执行它。<br>nginx出现403 forbidden最常见的原因是权限配置不正确。<br>为了保证文件能正确执行，nginx既需要文件的读权限,又需要文件所有父目录的可执行权限。<br>例如，当访问/usr/local/nginx/html/image.jpg时，nginx既需要image.jpg文件的可读权限，<br>也需要/,/usr,/usr/local,/usr/local/nginx,/usr/local/nginx/html的可以执行权限。<br>解决办法:设置所有父目录为755权限，设置文件为644权限可以避免权限不正确。</p>
<h3 id="404_Not_Found">404 Not Found</h3><p>请求失败，url错误，请求所希望得到的资源未被在服务器上发现。<br>NGINX可以自定义404页面。方法是<br>1.创建自己的404.html页面<br>2.更改nginx.conf在http定义区域加入： fastcgi_intercept_errors on;<br>3.更改nginx.conf中在server区域加入： error_page 404  /404.html  或者 error_page 404 =<a href="http://www.xxx.com/404.html" target="_blank" rel="external">http://www.xxx.com/404.html</a><br>4.更改后重启nginx,，测试nginx.conf正确性： /opt/nginx/sbin/nginx –t</p>
<h2 id="5、5xx_服务器错误">5、5xx 服务器错误</h2><p>这类状态码代表了服务器在处理请求的过程中有错误发生，也有可能是服务器意识到以当前的软硬件资源无法完成对请求的处理。</p>
<h3 id="500_Internal_Server_Error">500 Internal Server Error</h3><p>服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。<br>nginx下出现500错误可能是硬盘空间满了或者nginx配置文件错误。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/11/19/http-code/" data-id="cihzznmqz001518i4e8mhtwim" class="article-share-link" data-share="baidu" data-title="HTTP状态响应码与nginx">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-http-code" data-title="HTTP状态响应码与nginx" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP响应码/">HTTP响应码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-jQuery代码风格" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/16/jQuery代码风格/" class="article-date">
  <time datetime="2015-11-16T09:29:43.000Z" itemprop="datePublished">2015-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/16/jQuery代码风格/">jQuery代码风格</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>良好的代码风格可以提高可读性和可维护性，<br>下面以一个实例说明风格良好的jQuery代码是怎样的。</p>
<h2 id="jQuery实现导航栏">jQuery实现导航栏</h2><h3 id="html">html</h3><p>主要是在ul的li中再嵌套ul.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul class=<span class="string">"menu"</span>&gt;</span><br><span class="line">	&lt;li class=<span class="string">"level1"</span>&gt;</span><br><span class="line">		&lt;a href=<span class="string">"#none"</span>&gt;衬衫&lt;/a&gt;</span><br><span class="line">		&lt;ul class=<span class="string">"level2"</span>&gt;</span><br><span class="line">			&lt;li&gt;&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;短袖衬衫&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">			&lt;li&gt;&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;长袖衬衫&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;/ul&gt;</span><br><span class="line">	&lt;/li&gt;</span><br><span class="line">	&lt;li class=<span class="string">"level1"</span>&gt;</span><br><span class="line">		&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;卫衣&lt;/a&gt;</span><br><span class="line">		&lt;ul class=<span class="string">"level2"</span>&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;开襟卫衣&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;套头卫衣&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;运动卫衣&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;/ul&gt;</span><br><span class="line">	&lt;/li&gt;</span><br><span class="line">	&lt;li class=<span class="string">"level1"</span>&gt;</span><br><span class="line">		&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;裤子&lt;/a&gt;</span><br><span class="line">		&lt;ul class=<span class="string">"level2"</span>&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;长裤&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a href=<span class="string">"javascript:void(0)"</span>&gt;短裤&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;/ul&gt;</span><br><span class="line">	&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="css">css</h3><p>默认的内部ul不显示。.current定义了选中后链接的样式。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.menu&#123;</span><br><span class="line">	list-style-type: none;</span><br><span class="line">&#125;</span><br><span class="line">.level2&#123;</span><br><span class="line">	display: none;</span><br><span class="line">	list-style-type: none;</span><br><span class="line">&#125;</span><br><span class="line">a&#123;</span><br><span class="line">	text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line">.current&#123;</span><br><span class="line">	color: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="javaScript">javaScript</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	$(<span class="string">".level1 &gt; a"</span>).click(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	$(this).addClass(<span class="string">"current"</span>)//给当前元素添加类</span><br><span class="line">	.next().show()//下一个元素显示</span><br><span class="line">	.parent().siblings().children(<span class="string">'a'</span>).removeClass(<span class="string">'current'</span>)//父元素的同辈元素的子元素a移除类</span><br><span class="line">	.next().hide();//它们的下一个元素隐藏</span><br><span class="line">	<span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="http://7xo561.com1.z0.glb.clouddn.com/QQ截图20151116173821.png" alt="结果"></p>
<h2 id="jQuery代码风格">jQuery代码风格</h2><h3 id="1、同一个对象操作不超过3个，可以直接写在一行。">1、同一个对象操作不超过3个，可以直接写在一行。</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(this).addClass(<span class="string">"current"</span>).show();</span><br></pre></td></tr></table></figure>
<h3 id="2、多个对象的较多操作，一个对象写一行。">2、多个对象的较多操作，一个对象写一行。</h3><p>本文的实例就是这种风格。</p>
<h3 id="3、上述情况2中如果涉及子元素，可以缩进。">3、上述情况2中如果涉及子元素，可以缩进。</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(this).addClass(<span class="string">"current"</span>)</span><br><span class="line">		.children().show()</span><br><span class="line">		.parent().siblings().children(<span class="string">'a'</span>).removeClass(<span class="string">'current'</span>);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/11/16/jQuery代码风格/" data-id="cihzznmql000u18i4nckn5k72" class="article-share-link" data-share="baidu" data-title="jQuery代码风格">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-jQuery代码风格" data-title="jQuery代码风格" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/代码风格/">代码风格</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-amd" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/14/amd/" class="article-date">
  <time datetime="2015-11-14T02:07:50.000Z" itemprop="datePublished">2015-11-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/14/amd/">AMD规范与require.js</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>博主最近在学习Javascript模块化，看到<a href="http://www.ruanyifeng.com/blog/2012/10/javascript_module.html" target="_blank" rel="external">阮一峰写的博文</a>浅显易懂，稍作修改后转载如下：</p>
<h2 id="AMD">AMD</h2><p>AMD是”Asynchronous Module Definition”的缩写，意思就是”异步模块定义”。<br>它采用异步方式加载模块，模块的加载不影响它后面语句的运行。<br>所有依赖这个模块的语句，都定义在一个回调函数中，等到加载完成之后，这个回调函数才会运行。<br>AMD也采用require()语句加载模块，但是不同于CommonJS，它要求两个参数：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require([module], callback);</span><br></pre></td></tr></table></figure></p>
<p>第一个参数[module]，是一个数组，里面的成员就是要加载的模块；第二个参数callback，则是加载成功之后的回调函数。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">　　require([<span class="string">'math'</span>], <span class="keyword">function</span> (math) &#123;</span><br><span class="line">　　　　math.add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>math.add()与math模块加载不是同步的，浏览器不会发生假死。所以很显然，AMD比较适合浏览器环境。<br>目前，主要有两个Javascript库实现了AMD规范：require.js和curl.js。</p>
<h2 id="require-js">require.js</h2><h3 id="require-js的作用">require.js的作用</h3><p>最初，所以js代码都写在一个文件中，只要加载这一个文件就够了。后来，代码越来越多，必须分成多个文件，依次加载。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">　　&lt;script src=<span class="string">"1.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">　　&lt;script src=<span class="string">"2.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">　　&lt;script src=<span class="string">"3.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">　　&lt;script src=<span class="string">"4.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">　　&lt;script src=<span class="string">"5.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">　　&lt;script src=<span class="string">"6.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>这样的写法存在两个问题。一是，加载的时候，浏览器会阻塞，停止渲染，加载文件越多，网页失去响应的时间就会越长。二是，因为Js文件之间存在依赖关系，所以严格保证加载顺序。当依赖关系很复杂时，代码的编写和维护都会变得很困难。require.js的诞生，就是为了解决这两个问题：<br><img src="http://7xo561.com1.z0.glb.clouddn.com/bg2012110701.png" alt="require.js的作用"></p>
<h3 id="require-js的加载">require.js的加载</h3><p>使用require.js的第一步，就是下载并加载require.js.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"js/require.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>有人可能会想到，加载这个文件，也可能造成网页失去响应。解决办法有两个，一个是把它放在网页底部加载，另一个是写成下面这样：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"js/require.js"</span> defer=<span class="string">"defer"</span> async=<span class="string">"true"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>async属性表明这个文件需要异步加载，避免网页失去响应。IE不支持这个属性，只支持defer。<br>加载require.js以后，下一步就要加载我们自己的代码了。假定我们自己的代码文件是main.js，也放在js目录下面。那么，只需要写成下面这样就行了：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　&lt;script src=<span class="string">"js/require.js"</span> data-main=<span class="string">"js/main"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>data-main属性的作用是，指定网页程序的主模块。在上例中，就是js目录下面的main.js，这个文件会第一个被require.js加载。由于require.js默认的文件后缀名是js，所以可以把main.js简写成main。</p>
<h3 id="主模块的写法">主模块的写法</h3><p>上一节的main.js，我把它称为”主模块”，意思是整个网页的入口代码。它有点像C语言的main()函数，所有代码都从这儿开始运行。<br>下面就来看，怎么写main.js。<br>如果我们的代码不依赖任何其他模块，那么可以直接写入js代码。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　// main.js</span><br><span class="line">　　alert(<span class="string">"加载成功！"</span>);</span><br></pre></td></tr></table></figure></p>
<p>但这样的话，就没必要使用require.js了。真正常见的情况是，主模块依赖于其他模块，这时就要使用AMD规范定义的的require()函数。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">　　// main.js</span><br><span class="line">　　require([<span class="string">'moduleA'</span>, <span class="string">'moduleB'</span>, <span class="string">'moduleC'</span>], <span class="keyword">function</span> (moduleA, moduleB, moduleC)&#123;</span><br><span class="line">　　　　// some code here</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>require()函数接受两个参数。第一个参数是一个数组，表示所依赖的模块，上例就是[‘moduleA’, ‘moduleB’, ‘moduleC’]，即主模块依赖这三个模块；第二个参数是一个回调函数，当前面指定的模块都加载成功后，它将被调用。加载的模块会以参数形式传入该函数，从而在回调函数内部就可以使用这些模块。<br>require()异步加载moduleA，moduleB和moduleC，浏览器不会失去响应；它指定的回调函数，只有前面的模块都加载成功后，才会运行，解决了依赖性的问题。<br>下面，我们看一个实际的例子。<br>假定主模块依赖jquery、underscore和backbone这三个模块，main.js就可以这样写：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">require([<span class="string">'jquery'</span>,<span class="string">'underscore'</span>,<span class="string">'backbone'</span>],<span class="keyword">function</span>($, _, Backbone))&#123;</span><br><span class="line">// some code here</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>require.js会先加载jQuery、underscore和backbone，然后再运行回调函数。主模块的代码就写在回调函数中。</p>
<h3 id="模块的加载">模块的加载</h3><p>上一节最后的示例中，主模块的依赖模块是[‘jquery’, ‘underscore’, ‘backbone’]。默认情况下，require.js假定这三个模块与main.js在同一个目录，文件名分别为jquery.js，underscore.js和backbone.js，然后自动加载。<br>使用require.config()方法，我们可以对模块的加载行为进行自定义。require.config()就写在主模块（main.js）的头部。参数就是一个对象，这个对象的paths属性指定各个模块的加载路径。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">require.config(&#123;</span><br><span class="line">　　　　paths: &#123;</span><br><span class="line">　　　　　　<span class="string">"jquery"</span>: <span class="string">"jquery.min"</span>,</span><br><span class="line">　　　　　　<span class="string">"underscore"</span>: <span class="string">"underscore.min"</span>,</span><br><span class="line">　　　　　　<span class="string">"backbone"</span>: <span class="string">"backbone.min"</span></span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>上面的代码给出了三个模块的文件名，路径默认与main.js在同一个目录（js子目录）。如果这些模块在其他目录，比如js/lib目录，则有两种写法。一种是逐一指定路径。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">require.config(&#123;</span><br><span class="line">　　　　paths: &#123;</span><br><span class="line">　　　　　　<span class="string">"jquery"</span>: <span class="string">"lib/jquery.min"</span>,</span><br><span class="line">　　　　　　<span class="string">"underscore"</span>: <span class="string">"lib/underscore.min"</span>,</span><br><span class="line">　　　　　　<span class="string">"backbone"</span>: <span class="string">"lib/backbone.min"</span></span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>另一种则是直接改变基目录（baseUrl）。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">require.config(&#123;</span><br><span class="line">　　　　baseUrl: <span class="string">"js/lib"</span>,</span><br><span class="line">　　　　paths: &#123;</span><br><span class="line">　　　　　　<span class="string">"jquery"</span>: <span class="string">"jquery.min"</span>,</span><br><span class="line">　　　　　　<span class="string">"underscore"</span>: <span class="string">"underscore.min"</span>,</span><br><span class="line">　　　　　　<span class="string">"backbone"</span>: <span class="string">"backbone.min"</span></span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>如果某个模块在另一台主机上，也可以直接指定它的网址，比如<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">require.config(&#123;</span><br><span class="line">　　　　paths: &#123;</span><br><span class="line">　　　　　　<span class="string">"jquery"</span>: <span class="string">"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min"</span></span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>require.js要求，每个模块是一个单独的js文件。这样的话，如果加载多个模块，就会发出多次HTTP请求，会影响网页的加载速度。因此，require.js提供了一个优化工具，当模块部署完毕以后，可以用这个工具将多个模块合并在一个文件中，减少HTTP请求数。</p>
<h3 id="AMD模块的写法">AMD模块的写法</h3><p>require.js加载的模块，采用AMD规范。也就是说，模块必须按照AMD的规定来写。<br>具体来说，就是模块必须采用特定的define()函数来定义。如果一个模块不依赖其他模块，那么可以直接定义在define()函数之中。<br>假定现在有一个math.js文件，它定义了一个math模块。那么，math.js就要这样写：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// math.js</span><br><span class="line">　　define(<span class="function"><span class="title">function</span></span> ()&#123;</span><br><span class="line">　　　　var add = <span class="keyword">function</span> (x,y)&#123;</span><br><span class="line">　　　　　　<span class="built_in">return</span> x+y;</span><br><span class="line">　　　　&#125;;</span><br><span class="line">　　　　<span class="built_in">return</span> &#123;</span><br><span class="line">　　　　　　add: add</span><br><span class="line">　　　　&#125;;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>加载方法如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">　　// main.js</span><br><span class="line">　　require([<span class="string">'math'</span>], <span class="keyword">function</span> (math)&#123;</span><br><span class="line">　　　　alert(math.add(<span class="number">1</span>,<span class="number">1</span>));</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>如果这个模块还依赖其他模块，那么define()函数的第一个参数，必须是一个数组，指明该模块的依赖性。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">define([<span class="string">'myLib'</span>], <span class="keyword">function</span>(myLib)&#123;</span><br><span class="line">　　　　<span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">　　　　　　myLib.doSomething();</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　　　<span class="built_in">return</span> &#123;</span><br><span class="line">　　　　　　foo : foo</span><br><span class="line">　　　　&#125;;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>当require()函数加载上面这个模块的时候，就会先加载myLib.js文件。</p>
<h3 id="加载非规范的模块">加载非规范的模块</h3><p>理论上，require.js加载的模块，必须是按照AMD规范、用define()函数定义的模块。但是实际上，虽然已经有一部分流行的函数库（比如jQuery）符合AMD规范，更多的库并不符合。那么，require.js是否能够加载非规范的模块呢？<br>回答是可以的。<br>这样的模块在用require()加载之前，要先用require.config()方法，定义它们的一些特征。<br>举例来说，underscore和backbone这两个库，都没有采用AMD规范编写。如果要加载它们的话，必须先定义它们的特征。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">　　require.config(&#123;</span><br><span class="line">　　　　shim: &#123;</span><br><span class="line"></span><br><span class="line">　　　　　　<span class="string">'underscore'</span>:&#123;</span><br><span class="line">　　　　　　　　exports: <span class="string">'_'</span></span><br><span class="line">　　　　　　&#125;,</span><br><span class="line">　　　　　　<span class="string">'backbone'</span>: &#123;</span><br><span class="line">　　　　　　　　deps: [<span class="string">'underscore'</span>, <span class="string">'jquery'</span>],</span><br><span class="line">　　　　　　　　exports: <span class="string">'Backbone'</span></span><br><span class="line">　　　　　　&#125;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;);</span><br></pre></td></tr></table></figure></p>
<p>require.config()接受一个配置对象，这个对象除了有前面说过的paths属性之外，还有一个shim属性，专门用来配置不兼容的模块。具体来说，每个模块要定义（1）exports值（输出的变量名），表明这个模块外部调用时的名称；（2）deps数组，表明该模块的依赖性。<br>比如，jQuery的插件可以这样定义：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">shim: &#123;</span><br><span class="line">　　　　<span class="string">'jquery.scroll'</span>: &#123;</span><br><span class="line">　　　　　　deps: [<span class="string">'jquery'</span>],</span><br><span class="line">　　　　　　exports: <span class="string">'jQuery.fn.scroll'</span></span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/11/14/amd/" data-id="cihzznmp7000018i4jz4jj4fh" class="article-share-link" data-share="baidu" data-title="AMD规范与require.js">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-amd" data-title="AMD规范与require.js" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/amd/">amd</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/require-js/">require.js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模块化/">模块化</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-commonJs" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/11/13/commonJs/" class="article-date">
  <time datetime="2015-11-13T01:22:01.000Z" itemprop="datePublished">2015-11-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/13/commonJs/">CommonJS规范</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>博主最近在学习模块化，看完<a href="http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html" target="_blank" rel="external">阮一峰写的博文</a>和Samaritans写的<a href="http://www.cnblogs.com/dolphinX/p/4381855.html" target="_blank" rel="external">前端模块化</a>后获益匪浅，<br>现整理后转载如下：</p>
<p>模块化的最大好处就是代码重用。我们可以使用别人的代码，<br>想要什么功能，就加载什么模块。<br>但是，这样做的前提是大家以同样的方式编写模块。<br>否则你有你的写法，我有我的写法，岂不是乱了套！<br>考虑到Javascript模块现在还没有官方规范，这一点就更重要了。</p>
<h2 id="1、node-js">1、node.js</h2><p>2009年，美国程序员Ryan Dahl创造了<br>node.js项目，将javascript用于服务器端编程。<br>这标志”Javascript模块化编程”正式诞生。<br>因为老实说，在浏览器环境下，没有模块也不是特别大的问题，毕竟网页程序的复杂性有限；<br>但是在服务器端，一定要有模块，与操作系统和其他应用程序互动，否则根本没法编程。<br><img src="http://7xo561.com1.z0.glb.clouddn.com/bg2012103002.jpg" alt="node.js"><br>node.js的模块化，遵从CommonJS规范。</p>
<h2 id="2、CommonJS">2、CommonJS</h2><h3 id="定义模块">定义模块</h3><p>根据CommonJS规范，一个文件就是一个模块。每个模块都是一个单独的作用域，也就是说在该模块内部定义的变量，无法被其他模块读取，除非定义为全局对象的属性。</p>
<h3 id="模块输出">模块输出</h3><p>模块只有一个出口，module.exports对象。</p>
<h3 id="加载模块">加载模块</h3><p>使用require方法读取文件并执行，返回module.exports对象。<br>实例如下：</p>
<pre><code class="bash">//定义模块 myModel.js
var name=<span class="string">"lyx"</span>;
<span class="keyword">function</span> <span class="function"><span class="title">printName</span></span>(){
    console.log(name);
}
module.exports={
    <span class="built_in">print</span>Name: <span class="built_in">print</span>Name
}

//加载模块
var nameModule=require(<span class="string">'myModule.js'</span>);
nameModule.printName();
</code></pre>
<h2 id="3、浏览器环境">3、浏览器环境</h2><p>有了服务器端模块后，大家自然想要客户端模块。<br>如果两者能够兼容，一个模块不用修改就可以在服务器和浏览器上运行。<br>然而，看下面的代码。</p>
<pre><code class="bash">var nameModule=require(<span class="string">'myModule.js'</span>);
nameModule.printName();
</code></pre>
<p>执行nameModule.printName();必须要等myModule模块加载完成。<br>如果加载时间很长，整个程序就会等待。这对服务器端不是问题，<br>因为所以模块存放在本地硬盘，可以同步加载，等待时间就是磁盘读取时间。<br>但是，对于浏览器，这却是一个大问题，因为模块都放在服务器端，<br>等待时间取决于网速的快慢，可能要等很长时间，浏览器处于”假死”状态。<br>因此，浏览器端的模块，不能采用”同步加载”（synchronous），<br>只能采用”异步加载”（asynchronous）。这样AMD规范就因运而生了。<br>下篇博文，介绍AMD规范。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://monovenu.com.io/2015/11/13/commonJs/" data-id="cihzznmrj001v18i4jgczak4r" class="article-share-link" data-share="baidu" data-title="CommonJS规范">分享到</a>
      

 

       
       
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" style="height:300px" data-thread-key="post-commonJs" data-title="CommonJS规范" data-url="undefined"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"monovenu"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    <!-- 多说公共JS代码 end -->
  </section>


      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CommonJS/">CommonJS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模块化/">模块化</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</section>
      
      <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ajax/">Ajax</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CORS/">CORS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CommonJS/">CommonJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP响应码/">HTTP响应码</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/">Javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MiniUi/">MiniUi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/after伪元素/">after伪元素</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/amd/">amd</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/border-image/">border-image</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/echarts/">echarts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/epoll/">epoll</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaScript/">javaScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsonp/">jsonp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/require-js/">require.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/九宫格/">九宫格</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/代码风格/">代码风格</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发/">并发</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异步/">异步</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据可视化/">数据可视化</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模块化/">模块化</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/清除浮动/">清除浮动</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/版本控制/">版本控制</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/跨域/">跨域</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/选择器/">选择器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/阻塞/">阻塞</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/tags/CORS/" style="font-size: 10px;">CORS</a> <a href="/tags/CommonJS/" style="font-size: 10px;">CommonJS</a> <a href="/tags/HTTP响应码/" style="font-size: 10px;">HTTP响应码</a> <a href="/tags/Javascript/" style="font-size: 10px;">Javascript</a> <a href="/tags/MiniUi/" style="font-size: 10px;">MiniUi</a> <a href="/tags/after伪元素/" style="font-size: 10px;">after伪元素</a> <a href="/tags/amd/" style="font-size: 10px;">amd</a> <a href="/tags/border-image/" style="font-size: 10px;">border-image</a> <a href="/tags/echarts/" style="font-size: 10px;">echarts</a> <a href="/tags/epoll/" style="font-size: 10px;">epoll</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/jQuery/" style="font-size: 20px;">jQuery</a> <a href="/tags/javaScript/" style="font-size: 10px;">javaScript</a> <a href="/tags/jsonp/" style="font-size: 10px;">jsonp</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/require-js/" style="font-size: 10px;">require.js</a> <a href="/tags/九宫格/" style="font-size: 10px;">九宫格</a> <a href="/tags/代码风格/" style="font-size: 10px;">代码风格</a> <a href="/tags/并发/" style="font-size: 10px;">并发</a> <a href="/tags/异步/" style="font-size: 10px;">异步</a> <a href="/tags/数据可视化/" style="font-size: 10px;">数据可视化</a> <a href="/tags/模块化/" style="font-size: 15px;">模块化</a> <a href="/tags/清除浮动/" style="font-size: 10px;">清除浮动</a> <a href="/tags/版本控制/" style="font-size: 10px;">版本控制</a> <a href="/tags/跨域/" style="font-size: 10px;">跨域</a> <a href="/tags/选择器/" style="font-size: 10px;">选择器</a> <a href="/tags/阻塞/" style="font-size: 10px;">阻塞</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/12/08/jQuery版本问题/">jQuery版本问题</a>
          </li>
        
          <li>
            <a href="/2015/12/07/epoll/">epoll</a>
          </li>
        
          <li>
            <a href="/2015/12/04/网络IO模型/">网络IO模型</a>
          </li>
        
          <li>
            <a href="/2015/11/26/miniui/">MiniUi for php初探</a>
          </li>
        
          <li>
            <a href="/2015/11/25/echarts/">echarts 图表库入门</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://themes.xiguabaobao.com/hexo%E5%85%8D%E8%B4%B9%E4%B8%BB%E9%A2%98%EF%BC%9Alandscape-plus/" target="_blank">Landscape-plus 主题使用须知</a>
          </li>
        
          <li>
            <a href="http://reqianduan.com" target="_blank">热前端</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 刘洋鑫<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <br />
	    <span id="busuanzi_container_site_uv">
	     本站访客数<span id="busuanzi_value_site_uv"></span>人次
	    </span>
    </div>


    
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"monovenu"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js" type="text/javascript"></script>

</div>
</body>
</html>
